@import url("observablehq:default.css");
@import url("observablehq:theme-wide.css");

/*
 * Unit Tests module theme
 *
 * Vitest-inspired dark palette with green/purple gradient.
 * Green = test metrics, Purple = coverage metrics.
 * Font: Inter (loaded from Google Fonts).
 */

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

/* ── Custom properties ─────────────────────────────────────────────── */

:root {
  /* Base theme — Vitest dark */
  --theme-foreground: #e2e4ed;
  --theme-foreground-muted: #8b8fa5;
  --theme-foreground-faint: #555872;
  --theme-foreground-fainter: #3a3d52;
  --theme-foreground-faintest: #2a2d3e;
  --theme-foreground-focus: #a78bfa;
  --theme-background: #16171d;
  --theme-background-alt: #1e1f28;

  /* Typography */
  --theme-font: "Inter", system-ui, sans-serif;
  --theme-font-alt: "Inter", system-ui, sans-serif;

  /* Teal palette — test metrics */
  --vt-teal: #2dd4bf;
  --vt-teal-bright: #14b8a6;
  --vt-teal-dim: #0d9488;
  --vt-teal-muted: #3a7a72;

  /* Purple palette — coverage metrics */
  --vt-purple: #a78bfa;
  --vt-purple-bright: #8b5cf6;
  --vt-purple-dim: #7c3aed;
  --vt-purple-muted: #6d5a9e;

  /* Gradient */
  --vt-gradient-start: #2dd4bf;
  --vt-gradient-end: #a78bfa;

  /* Coverage threshold colors */
  --cov-high: var(--vt-purple);
  --cov-medium: #f59e0b;
  --cov-low: #ef4444;

  /* Status colors */
  --vt-pass: var(--vt-teal);
  --vt-fail: #ef4444;
  --vt-skip: #6b7280;

  /* Chart colors */
  --vt-chart-blue: #58a6ff;
  --vt-chart-red: #ef4444;
  --vt-chart-gray: #6b7280;

  /* Trend colors */
  --vt-trend-up: var(--vt-teal);
  --vt-trend-down: #ef4444;
  --vt-trend-flat: var(--theme-foreground-muted);

  /* Neutral trend aliases (used by shared trendChart component) */
  --dash-trend-up: var(--vt-trend-up);
  --dash-trend-down: var(--vt-trend-down);
  --dash-trend-flat: var(--vt-trend-flat);

  /* Borders & dividers */
  --vt-border: rgba(139, 143, 165, 0.25);
  --vt-divider: rgba(139, 143, 165, 0.15);
}

/* ── Base elements ─────────────────────────────────────────────────── */

body {
  font-family: var(--theme-font);
}

/* ── Top bar divider ───────────────────────────────────────────────── */

#observablehq-header {
  border-bottom: 1px solid var(--vt-divider);
}

/* ── Section headings — gradient text ──────────────────────────────── */

h1,
h2 {
  background: linear-gradient(135deg, var(--vt-teal), var(--vt-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 600;
  letter-spacing: -0.01em;
}

h2 {
  border-bottom: 1px solid var(--vt-divider);
  padding-bottom: 0.4rem;
  margin-bottom: 1rem;
}

/* ── Cards ─────────────────────────────────────────────────────────── */

.card {
  border: 1px solid var(--vt-border);
  border-radius: 0.5rem;
  background: var(--theme-background-alt);
}

.card h2 {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0.25rem;
  font-size: 0.8rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  background: none;
  -webkit-text-fill-color: var(--theme-foreground-muted);
}

.card svg {
  width: 100%;
}

/* ── Gradient border cards ─────────────────────────────────────────── */

.gradient-card-teal {
  background: linear-gradient(135deg, var(--vt-teal-dim), var(--vt-teal));
  border-radius: 10px;
  padding: 2px;
  display: flex;
}

.gradient-card-purple {
  background: linear-gradient(135deg, var(--vt-purple-dim), var(--vt-purple));
  border-radius: 10px;
  padding: 2px;
  display: flex;
}

.gradient-card-teal .card,
.gradient-card-purple .card {
  background: var(--theme-background-alt);
  border-radius: 8px;
  border: none;
  margin: 0;
  flex: 1;
}

/* ── Metric values ─────────────────────────────────────────────────── */

.big {
  text-shadow: 0 0 24px rgba(167, 139, 250, 0.2);
}

.big.teal {
  color: var(--vt-teal);
  text-shadow: 0 0 24px rgba(45, 212, 191, 0.2);
}

.big.purple {
  color: var(--vt-purple);
}

/* ── Summary cards ─────────────────────────────────────────────────── */

.summary-card {
  text-align: center;
  padding: 0.75rem;
}

.summary-card .big {
  font-size: 1.6rem;
}

/* ── Package cards ─────────────────────────────────────────────────── */

.package-card {
  border: 1px solid var(--vt-border);
  border-radius: 0.5rem;
  background: var(--theme-background-alt);
  padding: 1rem;
}

.package-card h3 {
  margin: 0 0 0.75rem 0;
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--theme-foreground);
}

.package-stats {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.75rem;
}

.package-stat {
  text-align: center;
}

.package-stat .label {
  display: block;
  font-size: 0.7rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--theme-foreground-muted);
  margin-bottom: 0.2rem;
}

.package-stat .value {
  display: block;
  font-size: 1.1rem;
  font-weight: 600;
}

/* ── Progress bars ─────────────────────────────────────────────────── */

.progress-bar {
  width: 100%;
  height: 6px;
  background: var(--theme-foreground-faintest);
  border-radius: 3px;
  overflow: hidden;
  margin-top: 0.4rem;
}

.progress-bar .fill {
  height: 100%;
  border-radius: 3px;
  transition: width 0.3s ease;
}

/* ── Status dot ────────────────────────────────────────────────────── */

.status-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 0.4rem;
}

/* ── Value color classes ────────────────────────────────────────────── */

.big.red {
  color: #ef4444;
  text-shadow: 0 0 24px rgba(239, 68, 68, 0.2);
}

.big.muted-value {
  color: var(--theme-foreground-muted);
  text-shadow: none;
}
